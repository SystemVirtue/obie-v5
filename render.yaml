# Render Blueprint for Obie Jukebox v5
# Deploy all three apps as separate static sites

services:
  # Admin App - Queue management and settings
  - type: web
    name: obie-admin
    env: static
    buildCommand: cd web/admin && npm install && npm run build
    staticPublishPath: web/admin/dist
    envVars:
      - key: VITE_SUPABASE_URL
        sync: false
      - key: VITE_SUPABASE_ANON_KEY
        sync: false

  # Player App - Media playback
  - type: web
    name: obie-player
    env: static
    buildCommand: cd web/player && npm install && npm run build
    staticPublishPath: web/player/dist
    envVars:
      - key: VITE_SUPABASE_URL
        sync: false
      - key: VITE_SUPABASE_ANON_KEY
        sync: false

  # Kiosk App - Public song requests
  - type: web
    name: obie-kiosk
    env: static
    buildCommand: cd web/kiosk && npm install && npm run build
    staticPublishPath: web/kiosk/dist
    envVars:
      - key: VITE_SUPABASE_URL
        sync: false
      - key: VITE_SUPABASE_ANON_KEY
        sync: false
